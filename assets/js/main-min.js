jQuery(document).ready(function($){function e(){var e=new TimelineMax;return e.set(r,{autoAlpha:0,y:"-=10px"}).set(c,{autoAlpha:1,x:"-=190px",y:"+=150px",transformOrigin:"center center"}).set(i,{scale:0,transformOrigin:"center center"}).set(h,{scale:0,transformOrigin:"center center"}).set(O,{scale:0,transformOrigin:"center center"}).set(f,{scale:0,transformOrigin:"center center"}).set(d,{autoAlpha:1,fill:"#a86c2f",transformOrigin:"left center",scale:0}).set(b,{autoAlpha:0}).set(v,{autoAlpha:1,scale:0,transformOrigin:"left center"}).set(T,{autoAlpha:1,scale:0,transformOrigin:"left center"}).set(B,{autoAlpha:1,fill:"#91238c",transformOrigin:"center bottom",scale:0}).set(M,{autoAlpha:1,scale:0,transformOrigin:"center bottom"}).set(k,{autoAlpha:1,scale:0,transformOrigin:"left bottom"}).set(S,{autoAlpha:1,scale:0,transformOrigin:"center bottom"}).set(j,{autoAlpha:1,scale:0,transformOrigin:"left center"}).set([C,D,L,Q,U,z,E,F,G,H],{autoAlpha:0}).set(J,{autoAlpha:0}).set(K,{autoAlpha:1,scale:0,transformOrigin:"left center"}).set(N,{autoAlpha:1,scale:0,transformOrigin:"left center"}).set(R,{autoAlpha:1,scale:0,transformOrigin:"left center"}).set(V,{autoAlpha:1,scale:0,transformOrigin:"left center"}).set(P,{transformOrigin:"center top"}).set(I,{transformOrigin:"center center"}),e}function a(){var e=new TimelineMax;return e.to(P,.8,{y:"+=200px",scale:2,ease:Power4.easeInOut}).to(u,.8,{autoAlpha:0,ease:Power4.easeInOut}).staggerTo([g,m,A,y,w,x],.8,{autoAlpha:0,y:"+=50px"},.25).to(I,.8,{scale:6,y:"-=450px",ease:Power4.easeInOut}).to(d,1.2,{scale:1,ease:Bounce.easeOut}).to(b,0,{autoAlpha:1}).to(b,1,{y:"+=50px",autoAlpha:0,ease:Power4.easeInOut},"+=0.5").staggerTo([i,h,O,f],.8,{scale:1,ease:Bounce.easeOut},.15).to(c,.8,{x:"0",y:"0",ease:Power4.easeInOut}).staggerTo([C,D,L,Q,U,z,E,F,G,H],.35,{autoAlpha:.3,ease:Power4.easeInOut,repeat:5,yoyo:!0},.2).to(d,.1,{fill:"#B224A6",ease:Power4.easeInOut,repeat:6,yoyo:!0},"-=1.75").to(r,.8,{y:"+=10px",autoAlpha:1,ease:Power4.easeInOut}).to(r,.8,{y:"+=10px",autoAlpha:0,ease:Power4.easeInOut},"+=4.0").set(r,{y:"-=20px",text:"Il sera transmis aux cellules de la branche qui naîtra du bourgeon."}).to(d,.5,{autoAlpha:0,scale:0,ease:Power4.easeInOut}).to(v,.8,{scale:1,ease:Power4.easeInOut},"-=0.75").to(T,.8,{scale:1,ease:Power4.easeInOut},"+=0.5").to(r,.8,{y:"+=10px",autoAlpha:1,ease:Power4.easeInOut}).to(r,.8,{y:"+=10px",autoAlpha:0,ease:Power4.easeInOut},"+=4.0").set(r,{y:"-=20px",text:"Dans un 2ème temps, une nouvelle mutation se produit dans un autre bourgeon. La cellule souche produit alors une branche re-mutée."}).to(B,1.2,{scale:1,ease:Bounce.easeOut}).staggerTo([C,D,L,Q,U,z,E,F,G,H],.35,{autoAlpha:.3,ease:Power4.easeInOut,repeat:5,yoyo:!0},.2).to(B,.1,{fill:"#5c82ff",ease:Power4.easeInOut,repeat:6,yoyo:!0},"-=1.75").to(r,.8,{y:"+=10px",autoAlpha:1,ease:Power4.easeInOut}).to(r,.8,{y:"+=10px",autoAlpha:0,ease:Power4.easeInOut},"+=4.0").set(r,{y:"-=20px",text:"Au final, on peut s'attendre à trouver des branches très différentes les unes des autres au fil du temps."}).to(B,.5,{autoAlpha:0,scale:0,ease:Power4.easeInOut}).to(M,.8,{scale:1,ease:Power4.easeInOut},"-=0.75").to(k,.8,{scale:1,ease:Power4.easeInOut},"+=0.5").to(S,.8,{scale:1,ease:Power4.easeInOut},"-=0.5").to(j,.8,{scale:1,ease:Power4.easeInOut},"-=1.0").staggerTo([K,N,R,V],.8,{scale:1,ease:Power4.easeInOut},.2,"+=2.0").to(r,.8,{y:"+=10px",autoAlpha:1,ease:Power4.easeInOut}).to(r,.8,{y:"+=10px",autoAlpha:0,ease:Power4.easeInOut},"+=4.0").set(r,{y:"-=20px",text:"Ce n'est cependant pas le cas..."}).to(r,.8,{y:"+=10px",autoAlpha:1,ease:Power4.easeInOut}).to(r,.8,{y:"+=10px",autoAlpha:0,ease:Power4.easeInOut},"+=4.0").staggerTo([K,N,R,V],.8,{fill:"#804c19",ease:Power4.easeInOut},0),e}function t(){o.add(e()).add(a())}function s(){$("#mainTlSlider").slider("value",o.progress())}var o=new TimelineMax({onUpdate:s,paused:!0}),r=$("p"),n=$(".scene-controls"),l=$("#scene svg"),u=$("#background"),p=$("#soleil"),c=$("#soleil2"),i=$("#soleil2 .path1"),h=$("#soleil2 .path2"),O=$("#soleil2 .path3"),f=$("#soleil2 .path4"),g=$("#three1"),m=$("#three2"),A=$("#three3"),y=$("#three4"),w=$("#three5"),x=$("#three6"),I=$("#napoleome"),P=$("#grass"),d=$("#bourgeon1 ellipse"),b=$("#bourgeon1-caption"),v=$("#branche1a"),T=$("#branche1b"),B=$("#bourgeon2 ellipse"),M=$("#branche2a"),k=$("#branche2b"),S=$("#branche1c"),j=$("#branche1d"),q=$("#uv"),C=$("#uv .path1"),D=$("#uv .path2"),L=$("#uv .path3"),Q=$("#uv .path4"),U=$("#uv .path5"),z=$("#uv .path6"),E=$("#uv .path7"),F=$("#uv .path8"),G=$("#uv .path9"),H=$("#uv .path10"),J=$("#uv-caption"),K=$("#branche3 path"),N=$("#branche4 path"),R=$("#branche5 path"),V=$("#branche6 path");t(),$("#mainTlSlider").slider({range:!1,min:0,max:1,step:.001,slide:function(e,a){o.progress(a.value).pause()},stop:function(){o.play()}});var W=new TimelineMax({paused:!0}),X=$("#overlay"),Y=$("#playb");$(X).add(Y).click(function(e){W.set(n,{autoAlpha:0}).set(Y,{transformOrigin:"center center"}).to(Y,.8,{scale:0,ease:Power4.easeInOut}).to(X,.8,{autoAlpha:0}).to(n,.8,{autoAlpha:1},"-=1.6"),W.play(),o.play()})});